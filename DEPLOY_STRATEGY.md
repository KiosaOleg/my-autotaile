# –°—Ç—Ä–∞—Ç–µ–≥—ñ—è –¥–µ–ø–ª–æ—é –¥–ª—è Next.js + Prisma + MySQL

## üéØ –ü–æ—Ç–æ—á–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î:
- **Next.js** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Prisma** - ORM –¥–ª—è MySQL
- **MySQL** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ
- **Vercel** - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –¥–µ–ø–ª–æ—é

## üö® –û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞

Vercel –º–∞—î –¥–∏–Ω–∞–º—ñ—á–Ω—ñ IP –∞–¥—Ä–µ—Å–∏, —â–æ —É—Å–∫–ª–∞–¥–Ω—é—î –ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ MySQL –±–∞–∑–∏. –ü—ñ–¥ —á–∞—Å –∑–±—ñ—Ä–∫–∏ `prisma db pull` –Ω–µ –º–æ–∂–µ –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è.

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### 1. –ó–º—ñ–Ω–µ–Ω–∏–π Build —Å–∫—Ä–∏–ø—Ç

**–î–æ:**
```json
"build": "npx prisma db pull && prisma generate && next build"
```

**–ü—ñ—Å–ª—è:**
```json
"build": "prisma generate && next build"
```

### 2. –°—Ç—Ä–∞—Ç–µ–≥—ñ—è —Ä–æ–±–æ—Ç–∏

| –°—Ç–∞–¥—ñ—è | –õ–æ–∫–∞–ª—å–Ω–æ | –ù–∞ Vercel |
|--------|----------|-----------|
| –ó–±—ñ—Ä–∫–∞ | ‚ùå `prisma db pull` | ‚úÖ `prisma generate` |
| –í–∏–∫–æ–Ω–∞–Ω–Ω—è | ‚úÖ –ß–µ—Ä–µ–∑ SSH —Ç—É–Ω–µ–ª—å | ‚úÖ –ß–µ—Ä–µ–∑ –ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø |
| –ë–î –¥–æ—Å—Ç—É–ø | ‚úÖ `127.0.0.1:3307` | ‚úÖ `212.162.152.33:3306` |

### 3. Environment Variables

**–õ–æ–∫–∞–ª—å–Ω–æ (.env):**
```
DATABASE_URL="mysql://my-autotaile_vercel_app:wW4kW2rX4e@127.0.0.1:3307/database2024"
```

**Vercel (Production):**
```
DATABASE_URL=mysql://my-autotaile_vercel_app:wW4kW2rX4e@212.162.152.33:3306/database2024
```

## üîÑ Workflow —Ä–æ–∑—Ä–æ–±–∫–∏

### –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞
```bash
# 1. SSH —Ç—É–Ω–µ–ª—å (–∑–∞–ª–∏—à–∏—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º)
npm run db:tunnel

# 2. –í –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
npm run db:setup  # prisma db pull + generate
npm run dev       # –∑–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫–∞
```

### –î–µ–ø–ª–æ–π –Ω–∞ Vercel
```bash
# Git push –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î –¥–µ–ø–ª–æ–π
git add .
git commit -m "Update for Vercel deploy"
git push origin main
```

## üõ†Ô∏è Troubleshooting

### –Ø–∫—â–æ Vercel deployment –ø–∞–¥–∞—î
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: Vercel Dashboard ‚Üí Deployments ‚Üí Functions ‚Üí Logs
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ `DATABASE_URL` –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –±–µ–∑ –ª–∞–ø–æ–∫
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ IP Vercel –¥–æ–∑–≤–æ–ª–µ–Ω—ñ –≤ MySQL

### –Ø–∫—â–æ API –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–º–∏–ª–∫–∏
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –±–∞–∑–∞ –¥–æ—Å—Ç—É–ø–Ω–∞: `telnet 212.162.152.33 3306`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ credentials –≤ `DATABASE_URL`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Vercel Functions

### –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ö–µ–º—É Prisma
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ –æ–Ω–æ–≤—ñ—Ç—å —Å—Ö–µ–º—É
npm run db:pull
npm run db:generate

# –ó–∞–∫–æ–º—ñ—Ç—å –∑–º—ñ–Ω–∏ –≤ schema.prisma
git add prisma/schema.prisma
git commit -m "Update Prisma schema"
git push
```

## üîÆ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è

### 1. Vercel Postgres
–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∫–µ—Ä–æ–≤–∞–Ω—É PostgreSQL –≤—ñ–¥ Vercel:
- ‚úÖ –ù—ñ—è–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –∑ IP
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ backup
- ‚ùå –ü–æ—Ç—Ä—ñ–±–Ω–æ –º—ñ–≥—Ä–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö

### 2. PlanetScale
- ‚úÖ Serverless MySQL
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
- ‚ùå –í–∞—Ä—Ç—ñ—Å—Ç—å

### 3. Railway / Render
- ‚úÖ –ö–µ—Ä–æ–≤–∞–Ω—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- ‚úÖ –ü—Ä–æ—Å—Ç–∏–π –¥–µ–ø–ª–æ–π
- ‚ùå –ü–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏

## üìä –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ Next.js –¥–æ–¥–∞—Ç–æ–∫ –∑–±–∏—Ä–∞—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ Prisma Client –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –∑–±—ñ—Ä–∫–∏
- ‚úÖ API routes –ø—Ä–∞—Ü—é—é—Ç—å –∑ runtime –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º
- ‚úÖ UniqTrade API —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ
- ‚úÖ Shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –¥–æ–¥–∞–Ω—ñ
- ‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ production API calls